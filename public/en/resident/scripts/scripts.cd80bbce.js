"use strict";!function(){function a(a,b,c){a.when("/",{controller:"HomeController",templateUrl:"views/home.html",controllerAs:"vm"}).when("/login",{controller:"LoginController",templateUrl:"views/login.html",controllerAs:"vm"}).otherwise({redirectTo:"/login"}),b.hashPrefix("")}function b(a,b,c,d){a.globals=c.get("globals")||{},a.globals.currentUser&&(d.defaults.headers.common.Authorization="Basic "+a.globals.currentUser.auth_token),a.$on("$locationChangeStart",function(c,d,e){var f=-1===$.inArray(b.path(),["/login"]),g=a.globals.currentUser;f&&!g&&b.path("/login")})}var c=angular.module("appServices",[]);c.constant("apiUrl","http://api.ch.residential-services.biz/v1/"),angular.module("residentApp",["ngRoute","ngCookies","ui.bootstrap","ngSanitize","appServices"]).config(a).run(b),a.$inject=["$routeProvider","$locationProvider","$httpProvider"],b.$inject=["$rootScope","$location","$cookieStore","$http"]}(),function(){function a(a,b,c){function d(b,c,d){a.post("http://api.ch.residential-services.biz/v1/users/login",{email:b,password:c}).then(function(a){d(a)},function(a){d(a)})}function e(d,e){c.globals={currentUser:{user:d,auth_token:e}},a.defaults.headers.common.Authorization=e;var f=new Date;f.setDate(f.getDate()+1),b.putObject("globals",c.globals,{expires:f})}function f(){c.globals={},b.remove("globals"),a.defaults.headers.common.Authorization="Basic"}var g={};return g.Login=d,g.SetCredentials=e,g.ClearCredentials=f,g}angular.module("residentApp").factory("AuthenticationService",["$http","$cookies","$rootScope",a])}(),function(){function a(a){function b(){function b(){var b=a.flash;b&&(b.keepAfterLocationChange?b.keepAfterLocationChange=!1:delete a.flash)}a.$on("$locationChangeStart",function(){b()})}function c(b,c){a.flash={message:b,type:"success",keepAfterLocationChange:c}}function d(b,c){a.flash={message:b,type:"error",keepAfterLocationChange:c}}var e={};return e.Success=c,e.Error=d,b(),e}angular.module("residentApp").factory("FlashService",a),a.$inject=["$rootScope"]}(),function(){angular.module("appServices").factory("AnnouncementsService",["apiUrl","$http","$log",function(a,b,c){return{listAnnouncements:function(d,e){return b({url:a+"/leases/"+d.lease_id+"/announcements",method:"GET"}).then(function(a){a.data.announcements&&angular.extend(e,a.data.announcements)})["catch"](function(){c.info("Fetched Announcements List",e)})}}}])}(),function(){angular.module("appServices").factory("CompanyService",["apiUrl","$http","$log",function(a,b,c){return{fetchCompanyInfo:function(d,e){return b({url:a+"company",method:"GET"}).then(function(a){a.data.company&&angular.extend(e,a.data.company)})["catch"](function(){c.info("Fetched Info",e)})}}}])}(),function(){angular.module("appServices").factory("ContactsService",["apiUrl","$http","$log",function(a,b,c){return{listContacts:function(d,e){return b({url:a+"/leases/"+d.lease_id+"/contacts",method:"GET"}).then(function(a){a.data.contacts&&angular.extend(e,a.data.contacts)})["catch"](function(){c.info("Fetched Contacts List",e)})}}}])}(),function(){angular.module("appServices").factory("DocumentsService",["apiUrl","$http","$log",function(a,b,c){return{listDocuments:function(d,e){return b({url:a+"/leases/"+d.lease_id+"/documents",method:"GET"}).then(function(a){a.data.documents&&angular.extend(e,a.data.documents)})["catch"](function(){var a={documents:[{id:1,title:"Lorem Ipsum",manager_id:1,care_taker_id:1,work_order_handler_id:1,block_id:1,property_id:1,unit_id:1,attachment_url:"...",starts_at:"04/26/2017",expires_at:"05/26/2017"}]};angular.extend(e,a.announcements),c.info("Fetched Documents List",e)})}}}])}(),function(){angular.module("appServices").factory("InfoService",["apiUrl","$http","$log",function(a,b,c){return{getInfo:function(d,e){return b({url:a+"/leases/"+d.lease_id+"/info",method:"GET"}).then(function(a){a.data.info&&angular.extend(e,a.data.info)})["catch"](function(){c.info("Fetched Info",e)})}}}])}(),function(){angular.module("appServices").factory("LaundryFacilitiesService",["apiUrl","$http","$log","$rootScope",function(a,b,c,d){return{fetchALaundryFacility:function(d,e){return b({url:a+"leases/"+d.lease_id+"/laundry-facility",method:"GET"}).then(function(a){if(a.data.laundry_facility){for(var b=a.data.laundry_facility,c=b.reservations.current.years,d=[],f=new Date,g=0,h=c.length;h>g;g++)for(var i=c[g].months,j=c[g].year,k=0,l=i.length;l>k;k++)for(var m=i[k].days,n=i[k].month,o=0,p=m.length;p>o;o++){var q=m[o].day,r=m[o].slots,s=n+"/"+q+"/"+j,t=new Date(s);if(t.setHours(0,0,0,0)>=f.setHours(0,0,0,0)){var u={date:t,slots:r};d.push(u)}}angular.extend(e,d)}})["catch"](function(){c.info("Fetched Laundry Facility",e)})},reserveASlot:function(c,d,e,f){var g=new Date(d.date),h=0==e?8:1==e?13:18,i=1==e?30:0,j={};return j.laundry_facility={},j.laundry_facility.year=g.getFullYear(),j.laundry_facility.month=g.getMonth()+1,j.laundry_facility.day=g.getDate(),j.laundry_facility.minute=i,j.laundry_facility.hour=h,b.post(a+"leases/"+c.lease_id+"/laundry-facility/reserve",j)},unReserveASlot:function(c,d,e,f){var g=new Date(d.date),h=0==e?8:1==e?13:18,i=1==e?30:0,j={};return j.laundry_facility={},j.laundry_facility.year=g.getFullYear(),j.laundry_facility.month=g.getMonth()+1,j.laundry_facility.day=g.getDate(),j.laundry_facility.minute=i,j.laundry_facility.hour=h,b.post(a+"leases/"+c.lease_id+"/laundry-facility/unreserve",j)}}}])}(),function(){angular.module("appServices").factory("LeasesService",["apiUrl","$http","$log",function(a,b,c){return{listLeases:function(d){return b({url:a+"leases",method:"GET"}).then(function(a){c.info("fetched leases",a),a.data.leases&&angular.extend(d,a.data.leases)})["catch"](function(){c.info("leasesList",d)})},renameLease:function(d,e){return b({url:a+"/leases/"+d.lease_id+"/rename",method:"POST",params:d}).then(function(a){})["catch"](function(){c.info("Renaming lease item start"),c.info("Old lease item",e),angular.extend(e,{name:d.name}),c.info("New lease item",e),c.info("Renaming lease item end")})}}}])}(),function(){function a(a,b,c){function d(){var a=c.defer();return a.resolve(k()),a.promise}function e(a){var d=c.defer(),e=b("filter")(k(),{id:a}),f=e.length?e[0]:null;return d.resolve(f),d.promise}function f(a){var d=c.defer(),e=b("filter")(k(),{username:a}),f=e.length?e[0]:null;return d.resolve(f),d.promise}function g(b){var d=c.defer();return a(function(){f(b.username).then(function(a){if(null!==a)d.resolve({success:!1,message:'Username "'+b.username+'" is already taken'});else{var c=k(),e=c[c.length-1]||{id:0};b.id=e.id+1,c.push(b),l(c),d.resolve({success:!0})}})},1e3),d.promise}function h(a){for(var b=c.defer(),d=k(),e=0;e<d.length;e++)if(d[e].id===a.id){d[e]=a;break}return l(d),b.resolve(),b.promise}function i(){localStorage.users=JSON.stringify([])}function j(a){for(var b=c.defer(),d=k(),e=0;e<d.length;e++){var f=d[e];if(f.id===a){d.splice(e,1);break}}return l(d),b.resolve(),b.promise}function k(){return localStorage.users||(localStorage.users=JSON.stringify([])),JSON.parse(localStorage.users)}function l(a){localStorage.users=JSON.stringify(a)}var m={};return m.GetAll=d,m.GetById=e,m.GetByUsername=f,m.Create=g,m.Update=h,m.Delete=j,m.DeleteAll=i,m}angular.module("residentApp").factory("UserService",a),a.$inject=["$timeout","$filter","$q"]}(),function(){function a(){function a(a,b,c){var d=this;this.username=a.globals.currentUser,this.openUserBox=function(){angular.element(".current-user-box").show(),angular.element(".transparent-user-box").show()},this.closeUserBox=function(){angular.element(".current-user-box").hide(),angular.element(".transparent-user-box").hide()},this.userSettings=function(){angular.element(".edit-profile").show(),angular.element("body").css("overflow","hidden"),d.closeUserBox()},this.userSignOut=function(){c.ClearCredentials(),b.path("/login")}}var b={restrict:"E",templateUrl:"views/toolbar.html",scope:{},controller:["$rootScope","$location","AuthenticationService",a],controllerAs:"vm",bindToController:!0};return a.$inject=["$rootScope","$location","AuthenticationService"],b}angular.module("residentApp").directive("mainToolbar",a)}(),function(){function a(){function a(a){var b=this;this.username=a.globals.currentUser,this.announcesList=[],b.listIsUpdated=function(){b.unitId=a.globals.currentUser.user.unit_id,angular.copy(b.parent.announcementsList,b.announcesList)},b.getTimeBlock=function(a){var b=a.starts_at,c=new Date(b),d=c.getUTCHours();return 8==d?"8am - 1pm":13==d?"1pm - 8pm":"8pm - 11pm"}}var c={restrict:"E",templateUrl:"views/annonces.html",scope:{parent:"="},controller:["$rootScope",a],controllerAs:"vm",link:b,bindToController:!0};return a.$inject=["$rootScope"],c}function b(a){var b=a.vm;a.$watch(function(){return b.parent.announcementsList},function(a,c){a&&b.listIsUpdated()},!0)}angular.module("residentApp").directive("annonces",a)}(),function(){function a(){function a(a){this.username=a.globals.currentUser}var b={restrict:"E",templateUrl:"views/documents.html",scope:{},controller:["$rootScope",a],controllerAs:"vm",bindToController:!0};return a.$inject=["$rootScope"],b}angular.module("residentApp").directive("documents",a)}(),function(){function a(){function a(a,b,c){var d=this;this.userId=a.globals.currentUser.user.id,this.unitId=a.globals.currentUser.user.unit_id,this.prevActionRecorded={},this.generatedList=[],d.undoLastAction=function(){d.prevActionRecorded.action?d.unReserveASlot(d.prevActionRecorded.laundrySlot,d.prevActionRecorded.index,!0):d.reserveASlot(d.prevActionRecorded.laundrySlot,d.prevActionRecorded.index,!0)},d.listIsUpdated=function(){d.unitId=a.globals.currentUser.user.unit_id,angular.extend(d.generatedList,d.parent.laundryFacility)},d.getNameBlockTime=function(){var a=d.prevActionRecorded.index;return 0==a?" 8am.":1==a?" 1pm.":" 8pm."},d.unReserveASlot=function(a,e,f){c.unReserveASlot({lease_id:d.parent.selectedResident.id},a,e).then(function(c){f?d.prevActionRecorded={}:angular.extend(d.prevActionRecorded,{laundrySlot:a,index:e,action:0}),angular.extend(a.slots[e],{present:!0,reserved:!1,unit_id:null}),b.info(d.prevActionRecorded)})["catch"](function(a){b.info("reserve failed",a)})},d.reserveASlot=function(e,f,g){c.reserveASlot({lease_id:d.parent.selectedResident.id},e,f).then(function(c){g?d.prevActionRecorded={}:angular.extend(d.prevActionRecorded,{laundrySlot:e,index:f,action:1}),angular.extend(e.slots[f],{present:!0,reserved:!0,unit_id:a.globals.currentUser.user.unit_id}),b.info(d.prevActionRecorded)})["catch"](function(a){b.info("reserve failed",a)})},d.getSlotName=function(a,b){var c=a.slots[b];return c.present?c.reserved?c.unit_id!=d.unitId?"Reserved by neighbour":"Reserved by you":"Available":"Not available"},d.getClassSlot=function(a,b){var c=a.slots[b];return c.present?c.reserved?c.unit_id!=d.unitId?{backgroundColor:"rgba(214, 31, 53, 0.3)"}:{backgroundColor:"#7ec171",color:"white"}:{backgroundColor:"rgba(87, 177, 70, 0.3)"}:{backgroundColor:"#f4f4f4"}},d.clickBlock=function(a,c){var e=a.slots[c];e.present?e.reserved?e.unit_id!=d.unitId?b.info("can't change"):d.unReserveASlot(a,c):d.reserveASlot(a,c):b.info("not available")}}var c={restrict:"E",templateUrl:"views/buanderie.html",scope:{parent:"="},controller:["$rootScope","$log","LaundryFacilitiesService",a],controllerAs:"vm",link:b,bindToController:!0};return a.$inject=["$rootScope","$log","LaundryFacilitiesService"],c}function b(a){var b=a.vm;a.$watch(function(){return b.parent.laundryFacility},function(a,c){a&&b.listIsUpdated()},!0)}angular.module("residentApp").directive("buanderie",a)}(),function(){function a(){function a(a){this.username=a.globals.currentUser,this.infoIsUpdated=function(){}}var c={restrict:"E",templateUrl:"views/info.html",scope:{parent:"="},controller:["$rootScope",a],controllerAs:"vm",link:b,bindToController:!0};return a.$inject=["$rootScope"],c}function b(a){var b=a.vm;a.$watch(function(){return b.parent.info},function(a,c){a&&b.infoIsUpdated()},!0)}angular.module("residentApp").directive("info",a)}(),function(){function a(){function a(a,b){this.username=a.globals.currentUser,this.createContact=function(){var a=b.open({animation:!1,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"createContract.html",controller:"createContractCtrl",controllerAs:"$ctrl",size:"md",appendTo:angular.element("body"),resolve:{items:function(){return[]}}});a.result.then(function(a){},function(){})}}var b={restrict:"E",templateUrl:"views/contacts.html",scope:{},controller:["$rootScope","$uibModal",a],controllerAs:"vm",bindToController:!0};return a.$inject=["$rootScope","$uibModal"],b}angular.module("residentApp").directive("contacts",a)}(),function(){angular.module("residentApp").controller("createContractCtrl",["$uibModalInstance","items",function(a,b){var c=this;c.items=b,c.selected={item:c.items[0]},c.ok=function(){a.close(c.selected.item)},c.cancel=function(){a.dismiss("cancel")}}])}(),function(){function a(a,b,c,d,e,f,g,h,i,j){function k(){l()}function l(){b.listLeases(m.leasesList).then(function(){m.activeResident=m.leasesList[0],m.selectedResident=m.leasesList[0],m.refreshResidents()})}var m=this;m.user=j.globals.currentUser.user,m.leasesList=[],m.laundryFacility=[],m.announcementsList=[],m.documentsList=[],m.contactsList=[],m.info={},m.companyInfo={},k(),m.showSuggestions=function(){m.leasesList.length<=1||(angular.element(".transparent-suggestion-box").show(),angular.element(".residents-suggestion-modal").show())},m.closeSuggestionBox=function(){angular.element(".transparent-suggestion-box").hide(),angular.element(".residents-suggestion-modal").hide()},m.selectResident=function(a){m.selectedResident=a},m.refreshResidents=function(){var a={lease_id:m.selectedResident.id};m.selectedResident.user_id==j.globals.currentUser.user.id&&(j.globals.currentUser.user.unit_id=m.selectedResident.unit_id),c.fetchALaundryFacility(a,m.laundryFacility),d.listAnnouncements(a,m.announcementsList),e.listDocuments(a,m.documentsList),f.listContacts(a,m.contactsList),g.getInfo(a,m.info),h.fetchCompanyInfo(a,m.companyInfo)},m.changeResident=function(a){m.activeResident=a,m.activeCategory=0},m.activeCategory=0,m.closeUserSettings=function(){angular.element(".edit-profile").hide(),angular.element("body").css({overflow:"auto"})},m.updateUser=function(){}}angular.module("residentApp").controller("HomeController",a),a.$inject=["UserService","LeasesService","LaundryFacilitiesService","AnnouncementsService","DocumentsService","ContactsService","InfoService","CompanyService","$log","$rootScope"]}(),function(){function a(a,b,c){function d(){e.dataLoading=!0,b.Login(e.username,e.password,function(d){console.log(d),d.data.auth_token?(b.SetCredentials(d.data.user,d.data.auth_token),a.path("/")):(c.Error(d.data.errors[0]),e.dataLoading=!1)})}var e=this;e.login=d}angular.module("residentApp").controller("LoginController",a),a.$inject=["$location","AuthenticationService","FlashService"]}(),angular.module("residentApp").run(["$templateCache",function(a){a.put("views/annonces.html",'<h3 class="text-center sections-header">Upcoming events for the next few days</h3> <div class="announcements-block" ng-repeat="announcement in vm.announcesList"> <div class="block-left"> <span>{{announcement.starts_at | date: \'EEEE\'}}</span> <span>{{announcement.starts_at | date: \'dd MMM\'}}</span> <span>{{announcement.starts_at | date: \'yyyy\'}}</span> <span class="time" ng-bind="vm.getTimeBlock(announcement)"></span> </div> <div class="block-right"> <span>{{announcement.title}}</span> </div> </div>'),a.put("views/buanderie.html",'<h3 class="text-center sections-header">Your reservations</h3> <div class="undo-action-block"> <label ng-if="vm.prevActionRecorded.laundrySlot"> <span>{{vm.prevActionRecorded.laundrySlot.date ? \'Reserved \':\'Unreserved \'}}</span> <span>{{vm.prevActionRecorded.laundrySlot.date | date: \'EEE d MMM\'}}</span> <span ng-bind="vm.getNameBlockTime()"></span> </label> <button ng-if="vm.prevActionRecorded.laundrySlot" class="undo-action" ng-click="vm.undoLastAction()">Undo</button> </div> <div style="padding: 10px 0"> <table class="table table-bordered table-hover"> <thead> <tr> <th></th> <th>8am - 1pm</th> <th>1pm - 6pm</th> <th>6pm - 11pm</th> </tr> </thead> <tbody> <tr ng-repeat="laundryFacility in vm.generatedList"> <th scope="row">{{laundryFacility.date | date: \'EEE d\'}}</th> <td ng-click="vm.clickBlock(laundryFacility, 0)" ng-style="vm.getClassSlot(laundryFacility, 0)" ng-bind="vm.getSlotName(laundryFacility, 0)"></td> <td ng-click="vm.clickBlock(laundryFacility, 1)" ng-style="vm.getClassSlot(laundryFacility, 1)" ng-bind="vm.getSlotName(laundryFacility, 1)"></td> <td ng-click="vm.clickBlock(laundryFacility, 2)" ng-style="vm.getClassSlot(laundryFacility, 2)" ng-bind="vm.getSlotName(laundryFacility, 2)"></td> </tr> </tbody> </table> </div>'),a.put("views/contacts.html",'<h3 class="text-center sections-header">Useful contacts</h3>'),a.put("views/documents.html",'<h3 class="text-center sections-header">Documents regarding your apartment and block</h3>'),a.put("views/home.html",'<main-toolbar></main-toolbar> <div class="residents-box"> <button ng-click="vm.showSuggestions()"> <span ng-bind="vm.selectedResident.name || \'Fake cover\'"></span> </button> <div class="transparent-suggestion-box" ng-click="vm.closeSuggestionBox()"></div> <div class="residents-suggestion-modal" ng-click="vm.closeSuggestionBox()"> <ul ng-repeat="lease in vm.leasesList"> <li ng-if="lease.name != vm.selectedResident.lease"> <a class="btn" href="javascript:" ng-click="vm.selectResident(lease)" ng-bind="lease.name || \'Fake cover\'"></a> </li> </ul> </div> </div> <div class="main-container"> <ul class="nav nav-pills"> <li ng-class="{active: vm.activeCategory==0}"><a class="laundry-image" href="javascript:" ng-click="vm.activeCategory=0">Laundry</a></li> <li ng-class="{active: vm.activeCategory==1}"><a class="announcements-image" href="javascript:" ng-click="vm.activeCategory=1">Announcements</a></li> <li ng-class="{active: vm.activeCategory==2}"><a class="documents-image" href="javascript:" ng-click="vm.activeCategory=2">Documents</a></li> <li ng-class="{active: vm.activeCategory==3}"><a class="contacts-image" href="javascript:" ng-click="vm.activeCategory=3">Contacts</a></li> <li ng-class="{active: vm.activeCategory==4}"><a class="info-image" href="javascript:" ng-click="vm.activeCategory=4">Info</a></li> </ul> <div ng-switch="vm.activeCategory"> <buanderie parent="vm" ng-switch-when="0"></buanderie> <annonces parent="vm" ng-switch-when="1"></annonces> <documents parent="vm" ng-switch-when="2"></documents> <contacts parent="vm" ng-switch-when="3"></contacts> <info parent="vm" ng-switch-when="4"></info> </div> </div> <div class="edit-profile"> <div class="edit-profile-relative"> <div class="edit-profile-header"> <div class="header"> <div class="navbar navbar-default" role="navigation"> <div class="container"> <div class="navbar-header"> <a class="navbar-brand" href="javascript:">RS</a> <a class="navbar-close" href="javascript:" ng-click="vm.closeUserSettings()"> <img src="images/close-icon.27ffb737.png"> </a> </div> </div> </div> </div> </div> <div class="edit-profile-body"> <h5 class="settings-form-header">Edit your profile</h5> <form class="settings-form" name="form" ng-submit="vm.updateUser()" role="form"> <div class="form-group row"> <label for="inputFirstName" class="col-sm-2 col-form-label">First Name:</label> <div class="col-sm-10"> <input type="text" class="form-control" id="inputFirstName" required placeholder="First Name" ng-model="vm.user.first_name"> </div> </div> <div class="form-group row"> <label for="inputLastName" class="col-sm-2 col-form-label">Last Name:</label> <div class="col-sm-10"> <input type="text" class="form-control" id="inputLastName" required placeholder="Last Name" ng-model="vm.user.last_name"> </div> </div> <div class="form-group row"> <label for="inputEmail" class="col-sm-2 col-form-label">Email:</label> <div class="col-sm-10"> <input type="email" class="form-control" id="inputEmail" required placeholder="Email" ng-model="vm.user.email"> </div> </div> <div class="form-group row"> <label for="inputOldPassword" class="col-sm-2 col-form-label">Old password:</label> <div class="col-sm-10"> <input type="password" class="form-control" id="inputOldPassword" placeholder="Old Password" ng-model="vm.user.password"> </div> </div> <div class="form-group row"> <label for="inputNewPassword" class="col-sm-2 col-form-label">New password:</label> <div class="col-sm-10"> <input type="password" class="form-control" id="inputNewPassword" placeholder="Type new password" ng-model="vm.user.newPassword"> </div> </div> <button type="submit" class="btn btn-default">Update profile</button> </form> </div> </div> </div>'),a.put("views/info.html",'<h3 class="text-center sections-header">About your apartment</h3> <div class="announcements-block" ng-repeat="announcement in vm.announcesList"> <div class="block-left"> <span>{{announcement.starts_at | date: \'EEEE\'}}</span> <span>{{announcement.starts_at | date: \'dd MMM\'}}</span> <span>{{announcement.starts_at | date: \'yyyy\'}}</span> <span class="time" ng-bind="vm.getTimeBlock(announcement)"></span> </div> <div class="block-right"> <span>{{announcement.title}}</span> </div> </div>'),a.put("views/login.html",'<div class="col-md-4 col-md-offset-3" style="margin-top: 89px; text-align: center"> <h3 class="login-title">Residential Services</h3> <form name="form" ng-submit="vm.login()" role="form" class="login-form"> <div class="form-group" ng-class="{ \'has-error\': form.username.$dirty && form.username.$error.required }"> <input type="text" autocomplete="off" name="username" id="username" class="form-control no-border login-form-row" ng-model="vm.username" required placeholder="User name"> <span ng-show="form.username.$dirty && form.username.$error.required" class="help-block" style="text-align: center">Username is required</span> </div> <div class="form-group" ng-class="{ \'has-error\': form.password.$dirty && form.password.$error.required }"> <input type="password" name="password" id="password" class="form-control no-border login-form-row" ng-model="vm.password" required placeholder="Password"> <span ng-show="form.password.$dirty && form.password.$error.required" class="help-block" style="text-align: center">Password is required</span> </div> <div class="form-actions login-action"> <button type="submit" ng-disabled="form.$invalid || vm.dataLoading" class="btn btn-primary Sign-in">Sign in</button> <img ng-if="vm.dataLoading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="> </div> </form> </div>'),a.put("views/main.html",'<div class="jumbotron"> <h1>\'Allo, \'Allo!</h1> <p class="lead"> <img src="images/yeoman.8cb970fb.png" alt="I\'m Yeoman"><br> Always a pleasure scaffolding your apps. </p> <p><a class="btn btn-lg btn-success" ng-href="#/">Splendid!<span class="glyphicon glyphicon-ok"></span></a></p> </div> <div class="row marketing"> <h4>HTML5 Boilerplate</h4> <p> HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites. </p> <h4>Angular</h4> <p> AngularJS is a toolset for building the framework most suited to your application development. </p> <h4>Karma</h4> <p>Spectacular Test Runner for JavaScript.</p> </div>'),a.put("views/plain.html","<div> Sample text </div>"),a.put("views/toolbar.html",'<div class="current-user-box"> <div class="transparent-user-box" ng-click="vm.closeUserBox()"></div> <div class="user-modal"> <ul> <li> <a class="btn" href="javascript:" ng-click="vm.userSettings()">Settings</a> </li> <li> <a class="btn" href="javascript:" ng-click="vm.userSignOut()">Sign out</a> </li> </ul> </div> </div> <div class="header"> <div class="navbar navbar-default" role="navigation"> <div class="container"> <div class="navbar-header"> <a class="navbar-brand" href="javascript:">RS</a> <a class="navbar-user" href="javascript:" ng-click="vm.openUserBox()"> <img src="images/edit-user.829a9f76.jpg" class="x_edit-user"> </a> </div> <!--<div class="collapse navbar-collapse" id="js-navbar-collapse">\n        <ul class="nav navbar-nav">\n          <!--<li><span>{{vm.username.username}}</span></li>\n          <li><a ng-href="#logout">logout</a></li>\n          <li><a href="javascript:">settings</a></li>\n          <!--<li><a href="javascript:">info</a></li>\n        </ul>\n      </div>--> </div> </div> </div>')}]);